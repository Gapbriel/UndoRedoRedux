(this.webpackJsonptodos=this.webpackJsonptodos||[]).push([[0],{26:function(t,e,n){"use strict";n.r(e);n(0);var o=n(6),r=n(4),c=n(3),i=0,s="SHOW_ALL",d="SHOW_COMPLETED",l="SHOW_ACTIVE",u={type:"UNDO"},a={type:"REDO"},j=n(1),O=function(t){var e=t.active,n=t.children,o=t.onClick;return Object(j.jsx)("button",{onClick:o,disabled:e,style:{marginLeft:"4px"},children:n})},b=Object(c.b)((function(t,e){return{active:e.filter===t.visibilityFilter}}),(function(t,e){return{onClick:function(){return t({type:"SET_VISIBILITY_FILTER",filter:e.filter})}}}))(O),p=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"Show: "}),Object(j.jsx)(b,{filter:s,children:"All"}),Object(j.jsx)(b,{filter:l,children:"Active"}),Object(j.jsx)(b,{filter:d,children:"Completed"})]})},f=Object(c.b)()((function(t){var e,n=t.dispatch;return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(t){var o;(t.preventDefault(),e.value.trim())&&(n((o=e.value,{type:"ADD_TODO",id:i++,text:o})),e.value="")},children:[Object(j.jsx)("input",{ref:function(t){return e=t}}),Object(j.jsx)("button",{type:"submit",children:"Add Todo"})]})})})),h=n(2),v=function(t){var e=t.onClick,n=t.completed,o=t.text;return Object(j.jsx)("li",{onClick:e,style:{textDecoration:n?"line-through":"none"},children:o})},y=function(t){var e=t.todos,n=t.toggleTodo;return Object(j.jsx)("ul",{children:e.map((function(t){return Object(j.jsx)(v,Object(h.a)(Object(h.a)({},t),{},{onClick:function(){return n(t.id)}}),t.id)}))})},x=function(t,e){switch(e){case s:return t;case d:return t.filter((function(t){return t.completed}));case l:return t.filter((function(t){return!t.completed}));default:throw new Error("Unknown filter: "+e)}},m=Object(c.b)((function(t){return{todos:x(t.todos.todos,t.visibilityFilter)}}),(function(t){return{toggleTodo:function(e){t(function(t){return{type:"TOGGLE_TODO",id:t}}(e))}}}))(y),D=function(t){var e=t.canUndo,n=t.onUndo,o=t.canRedo,r=t.onRedo;return Object(j.jsxs)("p",{children:[Object(j.jsx)("button",{onClick:n,disabled:!e,children:"Undo"}),Object(j.jsx)("button",{onClick:r,disabled:!o,children:"Redo"})]})},T=D=Object(c.b)((function(t){var e,n,o,r=null===(e=t.todos)||void 0===e||null===(n=e.history)||void 0===n?void 0:n.length;return{canUndo:(null===(o=t.todos.history[r-1])||void 0===o?void 0:o.past.length)>0&&t.todos.presentHistory>-1,canRedo:t.todos.history.length>t.todos.presentHistory+1&&t.todos.history.length>0}}),(function(t){return{onUndo:function(){t(u)},onRedo:function(){t(a)}}}))(D),g=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(T,{}),Object(j.jsx)(f,{}),Object(j.jsx)(m,{}),Object(j.jsx)(p,{})]})},H=n(5),E={todos:[],presentHistory:-2,history:[]};function I(t,e){var n=[];if(t.todos.length){var o={id:e.id,text:e.text,completed:e.completed};n=[].concat(Object(H.a)(t.history),[{past:Object(H.a)(t.todos),present:o,future:"ADD_TODO"===e.type?[].concat(Object(H.a)(t.todos),[o]):[].concat(Object(H.a)(t.todos.slice(0,t.todos.length-1)),[o])}])}return n}var _=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TODO":var n={id:e.id,text:e.text,completed:!1};return e.completed=!1,Object(h.a)(Object(h.a)({},t),{},{todos:[].concat(Object(H.a)(t.todos),[n]),presentHistory:t.presentHistory+1,history:I(t,e)});case"TOGGLE_TODO":var o=t.todos.map((function(t){return t.id===e.id?(e.completed=!t.completed,e.text=t.text,Object(h.a)(Object(h.a)({},t),{},{completed:!t.completed})):t}));return Object(h.a)(Object(h.a)({},t),{},{todos:o,presentHistory:t.presentHistory+1,history:I(t,e)});case"UNDO":var r=t.history[t.presentHistory];return Object(h.a)(Object(h.a)({},t),{},{presentHistory:t.presentHistory-1,todos:r.past});case"REDO":var c=t.history[t.presentHistory+1];return Object(h.a)(Object(h.a)({},t),{},{presentHistory:t.presentHistory+1,todos:c.future});default:return t}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_VISIBILITY_FILTER":return e.filter;default:return t}},C=Object(r.combineReducers)({todos:_,visibilityFilter:k}),L=n(12),R=Object(r.createStore)(C,Object(L.composeWithDevTools)());Object(o.render)(Object(j.jsx)(c.a,{store:R,children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.f928fbd4.chunk.js.map